# OpenShift Install Commands

## 1. Core Installation Commands (Most Used)

### Generate install-config.yaml
```bash
openshift-install create install-config --dir=<install-dir>
```

### Create Full Cluster
```bash
openshift-install create cluster --dir=<install-dir>
```

### Destroy Cluster
```bash
openshift-install destroy cluster --dir=<install-dir>
```

## 2. Partial / Step-by-Step Installation (Advanced)

### Create Manifests (Before Cluster Creation)
```bash
openshift-install create manifests --dir=<install-dir>
```

**Used to:**
- Modify scheduler (infra nodes, masters unschedulable)
- Add custom manifests
- Pause before full install

### Create Ignition Configs
```bash
openshift-install create ignition-configs --dir=<install-dir>
```

**Used mainly for:**
- UPI installs
- Bare metal
- Custom bootstrap flows

## 3. Debug & Status Commands

### Wait for Bootstrap Completion
```bash
openshift-install wait-for bootstrap-complete --dir=<install-dir>
```

### Wait for Install Completion
```bash
openshift-install wait-for install-complete --dir=<install-dir>
```

## 4. Platform-Specific Commands

### AWS – Create Cluster with Custom Logging
```bash
openshift-install create cluster \
    --dir=<install-dir> \
    --log-level=debug
```

**Log levels:**
- `info`
- `debug`
- `warn`
- `error`

## 5. Utility / Info Commands

### Print Installer Version
```bash
openshift-install version
```

### Show Help
```bash
openshift-install help
```

### Help for a Specific Command
```bash
openshift-install create --help
```

## 6. Common Training Flow (Recommended Order)

```bash
openshift-install create install-config --dir=ocp
cp ocp/install-config.yaml ocp/install-config.yaml.bak
openshift-install create manifests --dir=ocp
openshift-install create cluster --dir=ocp
```

**Or simply:**
```bash
openshift-install create cluster --dir=ocp
```

## 7. Clean-up (Very Important for AWS Cost)

**If install fails:**
```bash
openshift-install destroy cluster --dir=ocp
```

> ⚠️ **Warning:** Always run destroy to avoid orphaned AWS resources.

## 8. Files Generated by Installer (Awareness)

| File | Purpose |
|------|---------|
| `install-config.yaml` | Cluster definition |
| `manifests/` | Pre-install configs |
| `auth/kubeconfig` | Cluster access |
| `auth/kubeadmin-password` | Initial login |
| `terraform.tfstate` | AWS resources |